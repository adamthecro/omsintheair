<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="leaflet.css">
    <title>Nose la vd</title>
</head>

<body class="alcentre">
    <div class="motorpow">
        <div class="motorpowbar" id="leftmotor"></div>
    </div>
    <div style="height: 100vh; width: 98vw">
        <div class="topbar"></div>
        <div class="header alcentre">
            <input type="text" class="commands" placeholder="Write command" id="input1">
            <div class="commbut alcentre" onclick="commbutf(0)">Sleep</div>
            <div class="commbut alcentre" onclick="commbutf(1)">Ping data</div>
            <div class="commbut alcentre" onclick="commbutf(2)">Base controll</div>
            <div class="commbut alcentre" onclick="commbutf(3)">LoRa</div>
            <div class="commbutr alcentre" onclick="commbutf(99)">Reboot</div>
        </div>
        <div class="data alcentre">
            <div class="logs alcentre">
                <div id="logs" style="width: 100%;height: 100%;padding: 10px;"></div>
                <img src="" class="imgns" id="imgstream">
            </div>
            <div class="map" id="map_id"></div>
        </div>
        <div class="motors alcentre">
            <div class="motor alcentre">
                <div>
                    <div class="percentatge">
                        50
                    </div>
                    <div class="rpm">1278</div>
                </div>
            </div>
            <div class="angle alcentre" id="m1servo">60ยบ</div>
            <div class="spacer alcentre" id="spacer">
                <div class="brujula alcentre" id="brujula">
                    <div class="palo alcentre" id="palo">
                        <div class="frontspeed" id="frontspeed"></div>
                    </div>
                </div>
            </div>
            <div class="angle alcentre" id="m2servo">60ยบ</div>
            <div class="motor alcentre">
                <div>
                    <div class="percentatge">
                        50
                    </div>
                    <div class="rpm">1278</div>
                </div>
            </div>
        </div>
        <div class="servos alcentre">
            <div class="servo">L-Wing <div class="rservo alcentre" id="lservo">60</div>
            </div>
            <div class="servo">R-Wing<div class="rservo alcentre" id="rservo">60</div>
            </div>
            <div class="servo">Package<div class="rservo alcentre" id="pservo">60</div>
            </div>
            <div class="servo">V-Elevator<div class="rservo alcentre" id="vservo">60</div>
            </div>
            <div class="servo">H-Elevator<div class="rservo alcentre" id="hservo">60</div>
            </div>
        </div>
        <div class="motorpowh alcentre">
            <div class="motorpowbarh" id="waybar"></div>
        </div>
    </div>
    <div class="motorpow">
        <div class="motorpowbar" id="rightmotor"></div>
    </div>
</body>
<script src="jquery.js"></script>
<script src="leaflet.js"></script>
<script src="maps.js"></script>
<script src="gamepad.js"></script>
<script src="https://cdn.socket.io/socket.io-2.3.0.js"></script>
<script>
    var socket = io("http://127.0.0.1:3000", {
        path: '/'
    });
    socket.on('planedata', function (msg) {
        document.getElementById("logs").innerHTML = document.getElementById("logs").innerHTML + msg;
        document.getElementById("m1servo").innerHTML = msg["s1"];
        document.getElementById("m2servo").innerHTML = msg["s2"];
        document.getElementById("lservo").innerHTML = msg["s3"];
        document.getElementById("rservo").innerHTML = msg["s4"];
        document.getElementById("pservo").innerHTML = msg["s5"];
        document.getElementById("vservo").innerHTML = msg["s6"];
        document.getElementById("hservo").innerHTML = msg["s7"];
        mymap.flyTo([msg["lat"], msg["long"]], 14)
        var data = {
            "phase": 0,
            "m1": 0,
            "m2": 0,
            "s1": 0,
            "s2": 0,
            "s3": 0,
            "s4": 0,
            "s5": 0,
            "s6": 0,
            "s7": 0,
        };

        socket.emit("data", )
    });
</script>

</html>